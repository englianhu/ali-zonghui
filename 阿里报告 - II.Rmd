---
title: "é˜¿é‡Œå½©ç¥¨"
subtitle: "åˆ†æé˜¿é‡Œæ•°æ® (ç¬¬IIéƒ¨)"
author: "é›·æ¬§ <img src='æ–‡è‰ºåŠå›¾åº“/QQå›¾ç‰‡20200720121653.png' height='14'>"
date: "`r lubridate::today('Asia/Tokyo')`"
output:
  html_document: 
    mathjax: https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js
    number_sections: yes
    toc: yes
    toc_depth: 4
    toc_float:
      collapsed: yes
      smooth_scroll: yes
    code_folding: hide
    css: CSSBackgrounds.css
---

# ä¸»é¢˜

<img src='æ–‡è‰ºåŠå›¾åº“/å•†åœºå¦‚æˆ˜åœº.png' width='560'>

[[**ä¸»é¢˜æ›²**]{style="color:blue"}](https://github.com/englianhu/report/discussions)

ğŸš„ä¸œæ–¹å¿«è½¦ï¼ŒğŸš„ä¸€å¸¦ä¸€è·¯ã€‚

<audio controls loop autoplay src="æ–‡è‰ºåŠæ­Œæ›²åº“/æ±æ–¹å¿«è»Šåˆå”±åœ˜ Oriental Express - ç´…ç´…é’æ˜¥æ•²å‘€æ•² ã€Šé»‘æ¾æ²™å£«ã€‹å»£å‘Šä¸»é¡Œæ›².mp3" controls></audio>

<br>

# è®¾å®š

## SCSS è®¾ç½®

<style>
pre {
  overflow-x: auto;
}
pre code {
  word-wrap: normal;
  white-space: pre;
}
.table-hover > tbody > tr:hover { 
  background-color: #8D918D;
}
</style>

```{r load-sass, class.source='bg-success', class.output='bg-primary'}
# install.packages('remotes', dependencies = TRUE, INSTALL_opts = '--no-lock')
library('BBmisc', 'rmsfuns')
#remotes::install_github("rstudio/sass")
lib('sass')

## https://support.rstudio.com/hc/en-us/articles/200532197
## https://community.rstudio.com/t/r-does-not-display-korean-chinese/30889/3?u=englianhu
#Sys.setlocale("LC_CTYPE", "en_US.UTF-8")
#Sys.setlocale("LC_CTYPE", "zh_CN.UTF-8")
#Sys.setlocale(category = "LC_CTYPE", "Chinese (Simplified)_China.936")
#Sys.setlocale(locale = "Chinese")
#Sys.setlocale(locale = "Japanese")
#Sys.setlocale(locale = "English")

# rmarkdown::render('/home/englianhu/Documents/owner/ryo-cn.Rmd',  encoding = 'UTF-8')
#Sys.setlocale("LC_CTYPE", "UTF-8")
#Sys.setlocale(locale = "UTF-8")
#Sys.setlocale(category = "LC_ALL", locale = "chs")
#Sys.setlocale(category = "LC_ALL", locale = "UTF-8")
#Sys.setlocale(category = "LC_ALL", locale = "Chinese")
#Sys.setlocale(category = "LC_ALL", locale = "zh_CN.UTF-8")
Sys.setlocale("LC_ALL", "en_US.UTF-8")
```

```{scss set-scss, class.source='bg-success', class.output='bg-primary'}
/* https://stackoverflow.com/a/66029010/3806250 */
h1 { color: #002C54; }
h2 { color: #2F496E; }
h3 { color: #375E97; }
h4 { color: #556DAC; }
h5 { color: #92AAC7; }

/* ----------------------------------------------------------------- */
/* https://gist.github.com/himynameisdave/c7a7ed14500d29e58149#file-broken-gradient-animation-less */
.hover01 {
  /* color: #FFD64D; */
  background: linear-gradient(155deg, #EDAE01 0%, #FFEB94 100%);
  transition: all 0.45s;
  &:hover{
    background: linear-gradient(155deg, #EDAE01 20%, #FFEB94 80%);
    }
  }

.hover02 {
  color: #FFD64D;
  background: linear-gradient(155deg, #002C54 0%, #4CB5F5 100%);
  transition: all 0.45s;
  &:hover{
    background: linear-gradient(155deg, #002C54 20%, #4CB5F5 80%);
    }
  }

.hover03 {
  color: #FFD64D;
  background: linear-gradient(155deg, #A10115 0%, #FF3C5C 100%);
  transition: all 0.45s;
  &:hover{
    background: linear-gradient(155deg, #A10115 20%, #FF3C5C 80%);
    }
  }
```

```{r gb-opts, class.source='hover01', class.output='hover02'}
## Set the timezone but not change the datetime
Sys.setenv(TZ = 'Asia/Shanghai')

## Setting to omit all warnings
## https://stackoverflow.com/a/36846793/3806250
## Set width
## options(knitr.table.format = 'html') will set all kableExtra tables to be 'html', otherwise need to set the parameter on every single table.
options(warn = -1, width = 999, knitr.table.format = 'html')#, digits.secs = 6)

## https://stackoverflow.com/questions/39417003/long-vectors-not-supported-yet-abnor-in-rmd-but-not-in-r-script
## https://yihui.org/knitr/options
knitr::opts_chunk$set(
  class.source = 'hover01', class.output = 'hover02', class.error = 'hover03', 
  message = FALSE, warning = FALSE, error = TRUE, 
  autodep = TRUE, aniopts = 'loop', 
  progress = TRUE, verbose = TRUE, 
  cache = FALSE, cache.lazy = FALSE, result = 'asis')
```

<br><br>

## è®¾ç½®

```{r libs, eval=FALSE}
## Setup Options, Loading Required Libraries and Preparing Environment
## Loading the packages and setting adjustment
source('å‡½æ•°/libs.R')
```

è¯»å–ç¨‹åºåŒ…

```{r load-pkgs}
## Setup Options, Loading Required Libraries and Preparing Environment
## 3210448065@qq.com
## leiou123

## 2849108450@qq.com
## leiou123
## https://rstudio.cloud/project/1198888

## Loading the package 'BBmisc'
if(suppressMessages(!require('BBmisc'))){
  install.packages('BBmisc', dependencies = TRUE, INSTALL_opts = '--no-lock')
  suppressMessages(library('BBmisc'))
}
if (suppressMessages(!require('rmsfuns'))) {
  install.packages('rmsfuns', dependencies = TRUE, INSTALL_opts = '--no-lock')
  suppressMessages(library('rmsfuns'))
}

if(!require('REmap')) devtools::install_github('lchiffon/REmap')

## Loading multiple packages at once
#pkgs <- c('readr', 'plyr', 'dplyr', 'magrittr', 'tidyverse', 'devtools', 'zoo', 'lubridate', 'stringr', 'rvest', 'markdown', 'googleVis', 'knitr', 'rmarkdown', 'htmltools', 'knitr', 'kableExtra', 'formattable', 'echarts4r', 'radarchart', 'MASS', 'htmlwidgets', 'maps', 'REmap', 'ggmap', 'vembedr')

pkgs <- c('plyr', 'dplyr', 'magrittr', 'stringr', 'knitr', 'kableExtra', 'lubridate', 'broom', 'purrr', 'readxl', 'tibble', 'DT')

suppressAll(lib(pkgs))
load_pkg(pkgs)
rm(pkgs)

## Set the googleVis options first to change the behaviour of plot.gvis, so that 
##  only the chart component of the HTML file is written into the output file.
op <- options(gvis.plot.tag = 'chart')

## <audio src='music/bigmoney.mp3' autoplay controls loop></audio>
```

```{r set-prefer}
conflict_prefer('filter', 'dplyr')
conflict_prefer('select', 'dplyr')
conflict_prefer('mutate', 'dplyr')
conflict_prefer('rename', 'dplyr')
```

<br><br>

# ä»‹ç»

ä»Šå¤©å°è¯•åˆ†æé˜¿é‡Œ**æ ·æœ¬é˜¿é‡Œæ•°æ®**ï¼Œåˆ†æ`æ€»æ·»åŠ `ã€`æ€»æ³¨å†Œ`ã€`æ€»é¦–å†²`ã€`æ€»æŠ•æ³¨`ã€`æ€»æµæ°´`ã€`æ€»å……å€¼`ã€`æ€»ç›ˆåˆ©`ã€`å‡€æŠ•æ³¨`ã€`æ€»ä½“ç•™å­˜ç‡`ã€`äººå‡å……å€¼`èƒ½äº§ç”Ÿå¤šå°‘`è´Ÿç›ˆåˆ©`ã€‚éœ€è¦é¢„æµ‹å…¬å¸æ•´ä½“`ä¸‰ä¸ªæœˆ`ã€`åŠå¹´`ã€`ä¸€å¹´`æŠ¥è¡¨æ•°æ®æœ€ä½³ï¼Œä¸è¿‡åªæœ‰ä¸¤ä¸ªæœˆæ•°æ®ä¹Ÿå¯ä»¥è¯•è¯•ã€‚

# æ•°æ®

è¯»å–æ ·æœ¬æ•°æ®ã€‚

```{r warning=FALSE}
## è¯»å–æ•°æ®
smp <- suppressAll(read_excel('.xlsx') %>% tbl_df)

names(smp) <- smp[1,]; smp %<>% .[-1,]
# æ€»ç›ˆåˆ©, æ€»æ·»åŠ , æ€»æ³¨å†Œ, æ€»é¦–å†², æ€»æŠ•æ³¨, æ€»æµæ°´, æ€»å……å€¼
# names(smp) <- c('Date', 'PL', 'Add', 'RG', 'FD', 'TB', 'TO', 'TD')
smp %<>% mutate_if(is.character, as.numeric)
smp$æ—¥æœŸ %<>% as.numeric %>% as.Date()

smp %>% 
  kable(caption = 'é˜¿é‡Œæ•°æ®') %>% 
  kable_styling(bootstrap_options = c('striped', 'hover', 'condensed', 'responsive')) %>%
  scroll_box(width = '100%', height = '400px')
```

# çº¿æ€§æ¨¡å‹

ç»Ÿè®¡å»ºæ¨¡ã€‚

```{r warning=FALSE}
## æ¨¡å‹æ¯”è¾ƒ
m1 <- lm(æ€»ç›ˆåˆ© ~ æ€»æ·»åŠ  + æ€»æ³¨å†Œ + æ€»é¦–å†² + æ€»æŠ•æ³¨ + æ€»æµæ°´ + æ€»å……å€¼, data = smp)
m2 <- lm(æ€»ç›ˆåˆ© ~ æ€»æ·»åŠ  + æ€»æ³¨å†Œ + æ€»é¦–å†² + æ€»æŠ•æ³¨ + æ€»æµæ°´, data = smp)
m3 <- lm(æ€»ç›ˆåˆ© ~ æ€»æ·»åŠ  + æ€»æ³¨å†Œ + æ€»é¦–å†² + æ€»æŠ•æ³¨, data = smp)
m4 <- lm(æ€»ç›ˆåˆ© ~ æ€»æ·»åŠ  + æ€»æ³¨å†Œ + æ€»é¦–å†², data = smp)

m <- list(m1 = m1, m2 = m2, m3 = m3, m4 = m4)
rm(m1, m2, m3, m4)
```

# ç§»åŠ¨æ¨¡å‹

## æµ‹è¯•1ä¸ªæœˆç§»åŠ¨æ•°æ®

```{r warning=FALSE, message=FALSE}
## è½¬æ¢æ•°æ®ç±»å‹
nm <- c('Date', 'PL', 'Add', 'RG', 'FD', 'TB', 'TO', 'TD', 'NB', 'NBR', 'AD')
names(smp) <- nm

smp %<>% na.omit
datt <- llply(smp[,-1], function(x) {
  x %<>% xts(order.by = smp$Date)
  x
})

## é˜¿é‡Œæ•°æ® 1ä¸ªæœˆ
dbt <- smp$Date[month(1):length(smp$Date)]
datt <- llply(dbt, function(x) {
  dbtt <- smp$Date[smp$Date <= x]
  dbtt <- dbtt[(length(dbtt) - month(1)):length(dbtt)]
  z <- llply(datt, function(y) {
    y <- y[index(y) %in% dbtt]
    xx <- auto.arima(y, D=1)
    fst <- forecast(xx, h=1) %>% 
      tbl_df %>% 
      select('Point Forecast') %>% 
      rename(`FP` = `Point Forecast`)
    names(y) %<>% str_extract_all('[A-Z]{1,}')
    y <- y[nrow(y)]
    zz <- data.frame(Date = index(y), y, fst) %>% tbl_df
    zz
  }) %>% bind_cols
}) %>% bind_rows

datt %<>% select(-Date1, -Date2, -Date3, -Date4, -Date5, 
                 -Date6, -Date7, -Date8, -Date9)  %>% 
                 mutate(FP = c(NA, FP[-length(FP)]), FP1 = c(NA, FP1[-length(FP1)]), FP2 = c(NA, FP2[-length(FP2)]), FP3 = c(NA, FP3[-length(FP3)]), FP5 = c(NA, FP5[-length(FP5)]), FP6 = c(NA, FP6[-length(FP6)]), FP7 = c(NA, FP7[-length(FP7)]), FP8 = c(NA, FP8[-length(FP8)]), FP9 = c(NA, FP9[-length(FP9)]))
datt$FP4 = c(NA, datt$FP4[-length(datt$FP4)])

names(datt) <- c('æ—¥æœŸ',	'æ€»æ·»åŠ ',	'é¢„æµ‹æ€»æ·»åŠ ',	
   'æ€»æ³¨å†Œ',	'é¢„æµ‹æ€»æ³¨å†Œ',	'æ€»é¦–å†²',	'é¢„æµ‹æ€»é¦–å†²',	
   'æ€»æŠ•æ³¨',	'é¢„æµ‹æ€»æŠ•æ³¨',	'æ€»æµæ°´',	'é¢„æµ‹æ€»æµæ°´',	
   'æ€»å……å€¼',	'é¢„æµ‹æ€»å……å€¼',	'æ€»ç›ˆåˆ©',	'é¢„æµ‹æ€»ç›ˆåˆ©',	
   'å‡€æŠ•æ³¨',	'é¢„æµ‹å‡€æŠ•æ³¨',	'æ€»ä½“ç•™å­˜ç‡',	'é¢„æµ‹æ€»ä½“ç•™å­˜ç‡',	
   'äººå‡å……å€¼', 'é¢„æµ‹äººå‡å……å€¼')
```

### ç»˜å›¾

```{r warning=FALSE}
## ç»˜å›¾

## é¢„æµ‹æ€»æ·»åŠ  - æ€»æ·»åŠ 
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æ·»åŠ , colour = æ€»æ·»åŠ )) + 
  geom_line(aes(y = é¢„æµ‹æ€»æ·»åŠ , colour = é¢„æµ‹æ€»æ·»åŠ ))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æ·»åŠ ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æ³¨å†Œ - æ€»æ³¨å†Œ
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æ³¨å†Œ, colour = æ€»æ³¨å†Œ)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æ³¨å†Œ, colour = é¢„æµ‹æ€»æ³¨å†Œ))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æ³¨å†Œã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æŠ•æ³¨ - æ€»æŠ•æ³¨
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æŠ•æ³¨, colour = æ€»æŠ•æ³¨)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æŠ•æ³¨, colour = é¢„æµ‹æ€»æŠ•æ³¨))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æŠ•æ³¨ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æµæ°´ - æ€»æµæ°´
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æµæ°´, colour = æ€»æµæ°´)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æµæ°´, colour = é¢„æµ‹æ€»æµæ°´))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æµæ°´ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»å……å€¼ - æ€»å……å€¼
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»å……å€¼, colour = æ€»å……å€¼)) + 
  geom_line(aes(y = é¢„æµ‹æ€»å……å€¼, colour = é¢„æµ‹æ€»å……å€¼))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»å……å€¼ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»ç›ˆåˆ© - æ€»ç›ˆåˆ©
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»ç›ˆåˆ©, colour = æ€»ç›ˆåˆ©)) + 
  geom_line(aes(y = é¢„æµ‹æ€»ç›ˆåˆ©, colour = é¢„æµ‹æ€»ç›ˆåˆ©))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»ç›ˆåˆ©ã€‚

```{r warning=FALSE}
## é¢„æµ‹å‡€æŠ•æ³¨ - å‡€æŠ•æ³¨
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = å‡€æŠ•æ³¨, colour = å‡€æŠ•æ³¨)) + 
  geom_line(aes(y = é¢„æµ‹å‡€æŠ•æ³¨, colour = é¢„æµ‹å‡€æŠ•æ³¨))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æŠ•æ³¨ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»ä½“ç•™å­˜ç‡ - æ€»ä½“ç•™å­˜ç‡
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»ä½“ç•™å­˜ç‡, colour = æ€»ä½“ç•™å­˜ç‡)) + 
  geom_line(aes(y = é¢„æµ‹æ€»ä½“ç•™å­˜ç‡, colour = é¢„æµ‹æ€»ä½“ç•™å­˜ç‡))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»ä½“ç•™å­˜ç‡ã€‚

```{r warning=FALSE}
## é¢„æµ‹äººå‡å……å€¼ - äººå‡å……å€¼
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = äººå‡å……å€¼, colour = äººå‡å……å€¼)) + 
  geom_line(aes(y = é¢„æµ‹äººå‡å……å€¼, colour = é¢„æµ‹äººå‡å……å€¼))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»äººå‡å……å€¼ã€‚

### æ¯”è¾ƒé¢„æµ‹å€¼ç²¾å‡†åº¦

```{r warning=FALSE}
datt %>% na.omit %>% 
  kable(caption = 'é¢„æµ‹æ ·æœ¬æ•°æ®') %>% 
  kable_styling(bootstrap_options = c('striped', 'hover', 'condensed', 'responsive')) %>%
  scroll_box(width = '100%', height = '400px')
```

```{r warning=FALSE}
## MSE æ¯”è¾ƒé¢„æµ‹å€¼ç²¾å‡†åº¦
mse <- datt %>% na.omit %>% 
    mutate(
      å‡æ–¹è¯¯å·®.æ€»æ·»åŠ  = mean((é¢„æµ‹æ€»æ·»åŠ  - æ€»æ·»åŠ )^2),
      å‡æ–¹è¯¯å·®.æ€»æ³¨å†Œ = mean((é¢„æµ‹æ€»æ³¨å†Œ - æ€»æ³¨å†Œ)^2),
      å‡æ–¹è¯¯å·®.æ€»æŠ•æ³¨ = mean((é¢„æµ‹æ€»æŠ•æ³¨ - æ€»æŠ•æ³¨)^2),
      å‡æ–¹è¯¯å·®.æ€»æµæ°´ = mean((é¢„æµ‹æ€»æµæ°´ - æ€»æµæ°´)^2),
      å‡æ–¹è¯¯å·®.æ€»å……å€¼ = mean((é¢„æµ‹æ€»å……å€¼ - æ€»å……å€¼)^2),
      å‡æ–¹è¯¯å·®.æ€»ç›ˆåˆ© = mean((é¢„æµ‹æ€»ç›ˆåˆ© - æ€»ç›ˆåˆ©)^2),
      å‡æ–¹è¯¯å·®.å‡€æŠ•æ³¨ = mean((é¢„æµ‹å‡€æŠ•æ³¨ - å‡€æŠ•æ³¨)^2),
      å‡æ–¹è¯¯å·®.æ€»ä½“ç•™å­˜ç‡ = mean((é¢„æµ‹æ€»ä½“ç•™å­˜ç‡ - æ€»ä½“ç•™å­˜ç‡)^2),
      å‡æ–¹è¯¯å·®.äººå‡å……å€¼ = mean((é¢„æµ‹äººå‡å……å€¼ - äººå‡å……å€¼)^2))

mse1 <- mse %>% 
  select(å‡æ–¹è¯¯å·®.æ€»æ·»åŠ , å‡æ–¹è¯¯å·®.æ€»æ³¨å†Œ, å‡æ–¹è¯¯å·®.æ€»æŠ•æ³¨, 
         å‡æ–¹è¯¯å·®.æ€»æµæ°´, å‡æ–¹è¯¯å·®.æ€»å……å€¼, å‡æ–¹è¯¯å·®.æ€»ç›ˆåˆ©, 
         å‡æ–¹è¯¯å·®.å‡€æŠ•æ³¨, å‡æ–¹è¯¯å·®.æ€»ä½“ç•™å­˜ç‡, å‡æ–¹è¯¯å·®.äººå‡å……å€¼) %>% 
  unique

suppressAll(mse1 %>% 
  kable(booktabs = T) %>%
  kable_styling())
```

## æµ‹è¯•40å¤©ç§»åŠ¨æ•°æ®

```{r warning=FALSE, message=FALSE}
## è½¬æ¢æ•°æ®ç±»å‹
nm <- c('Date', 'PL', 'Add', 'RG', 'FD', 'TB', 'TO', 'TD', 'NB', 'NBR', 'AD')
names(smp) <- nm

smp %<>% na.omit
datt <- llply(smp[,-1], function(x) {
  x %<>% xts(order.by = smp$Date)
  x
})

## é˜¿é‡Œæ•°æ® 40å¤©
dbt <- smp$Date[40:length(smp$Date)]
datt <- llply(dbt, function(x) {
  dbtt <- smp$Date[smp$Date <= x]
  dbtt <- dbtt[(length(dbtt) - 40):length(dbtt)]
  z <- llply(datt, function(y) {
    y <- y[index(y) %in% dbtt]
    xx <- auto.arima(y, D=1)
    fst <- forecast(xx, h=1) %>% 
      tbl_df %>% select('Point Forecast') %>% 
      rename(`FP` = `Point Forecast`)
    names(y) %<>% str_extract_all('[A-Z]{1,}')
    y <- y[nrow(y)]
    zz <- data.frame(Date = index(y), y, fst) %>% tbl_df
    zz
  }) %>% bind_cols
}) %>% bind_rows

datt %<>% select(-Date1, -Date2, -Date3, -Date4, -Date5, 
                 -Date6, -Date7, -Date8, -Date9)  %>% 
                 mutate(FP = c(NA, FP[-length(FP)]), FP1 = c(NA, FP1[-length(FP1)]), FP2 = c(NA, FP2[-length(FP2)]), FP3 = c(NA, FP3[-length(FP3)]), FP5 = c(NA, FP5[-length(FP5)]), FP6 = c(NA, FP6[-length(FP6)]), FP7 = c(NA, FP7[-length(FP7)]), FP8 = c(NA, FP8[-length(FP8)]), FP9 = c(NA, FP9[-length(FP9)]))
datt$FP4 = c(NA, datt$FP4[-length(datt$FP4)])

names(datt) <- c('æ—¥æœŸ',	'æ€»æ·»åŠ ',	'é¢„æµ‹æ€»æ·»åŠ ',	
   'æ€»æ³¨å†Œ',	'é¢„æµ‹æ€»æ³¨å†Œ',	'æ€»é¦–å†²',	'é¢„æµ‹æ€»é¦–å†²',	
   'æ€»æŠ•æ³¨',	'é¢„æµ‹æ€»æŠ•æ³¨',	'æ€»æµæ°´',	'é¢„æµ‹æ€»æµæ°´',	
   'æ€»å……å€¼',	'é¢„æµ‹æ€»å……å€¼',	'æ€»ç›ˆåˆ©',	'é¢„æµ‹æ€»ç›ˆåˆ©',	
   'å‡€æŠ•æ³¨',	'é¢„æµ‹å‡€æŠ•æ³¨',	'æ€»ä½“ç•™å­˜ç‡',	'é¢„æµ‹æ€»ä½“ç•™å­˜ç‡',	
   'äººå‡å……å€¼', 'é¢„æµ‹äººå‡å……å€¼')
```

### ç»˜å›¾

```{r warning=FALSE}
## ç»˜å›¾

## é¢„æµ‹æ€»æ·»åŠ  - æ€»æ·»åŠ 
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æ·»åŠ , colour = æ€»æ·»åŠ )) + 
  geom_line(aes(y = é¢„æµ‹æ€»æ·»åŠ , colour = é¢„æµ‹æ€»æ·»åŠ ))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æ·»åŠ ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æ³¨å†Œ - æ€»æ³¨å†Œ
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æ³¨å†Œ, colour = æ€»æ³¨å†Œ)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æ³¨å†Œ, colour = é¢„æµ‹æ€»æ³¨å†Œ))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æ³¨å†Œã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æŠ•æ³¨ - æ€»æŠ•æ³¨
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æŠ•æ³¨, colour = æ€»æŠ•æ³¨)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æŠ•æ³¨, colour = é¢„æµ‹æ€»æŠ•æ³¨))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æŠ•æ³¨ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»æµæ°´ - æ€»æµæ°´
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»æµæ°´, colour = æ€»æµæ°´)) + 
  geom_line(aes(y = é¢„æµ‹æ€»æµæ°´, colour = é¢„æµ‹æ€»æµæ°´))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æµæ°´ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»å……å€¼ - æ€»å……å€¼
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»å……å€¼, colour = æ€»å……å€¼)) + 
  geom_line(aes(y = é¢„æµ‹æ€»å……å€¼, colour = é¢„æµ‹æ€»å……å€¼))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»å……å€¼ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»ç›ˆåˆ© - æ€»ç›ˆåˆ©
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»ç›ˆåˆ©, colour = æ€»ç›ˆåˆ©)) + 
  geom_line(aes(y = é¢„æµ‹æ€»ç›ˆåˆ©, colour = é¢„æµ‹æ€»ç›ˆåˆ©))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»ç›ˆåˆ©ã€‚

```{r warning=FALSE}
## é¢„æµ‹å‡€æŠ•æ³¨ - å‡€æŠ•æ³¨
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = å‡€æŠ•æ³¨, colour = å‡€æŠ•æ³¨)) + 
  geom_line(aes(y = é¢„æµ‹å‡€æŠ•æ³¨, colour = é¢„æµ‹å‡€æŠ•æ³¨))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»æŠ•æ³¨ã€‚

```{r warning=FALSE}
## é¢„æµ‹æ€»ä½“ç•™å­˜ç‡ - æ€»ä½“ç•™å­˜ç‡
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = æ€»ä½“ç•™å­˜ç‡, colour = æ€»ä½“ç•™å­˜ç‡)) + 
  geom_line(aes(y = é¢„æµ‹æ€»ä½“ç•™å­˜ç‡, colour = é¢„æµ‹æ€»ä½“ç•™å­˜ç‡))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»ä½“ç•™å­˜ç‡ã€‚

```{r warning=FALSE}
## é¢„æµ‹äººå‡å……å€¼ - äººå‡å……å€¼
datt %>% ggplot(aes(æ—¥æœŸ)) + 
  geom_line(aes(y = äººå‡å……å€¼, colour = äººå‡å……å€¼)) + 
  geom_line(aes(y = é¢„æµ‹äººå‡å……å€¼, colour = é¢„æµ‹äººå‡å……å€¼))
```

ä¸Šå›¾æ˜¾ç¤ºé¢„æµ‹æ€»äººå‡å……å€¼ã€‚

### æ¯”è¾ƒé¢„æµ‹å€¼ç²¾å‡†åº¦

```{r warning=FALSE}
datt %>% na.omit %>% 
  kable(caption = 'é¢„æµ‹æ ·æœ¬æ•°æ®') %>% 
  kable_styling(bootstrap_options = c('striped', 'hover', 'condensed', 'responsive')) %>%
  scroll_box(width = '100%', height = '400px')
```

```{r warning=FALSE}
## MSE æ¯”è¾ƒé¢„æµ‹å€¼ç²¾å‡†åº¦
mse <- datt %>% na.omit %>% 
    mutate(å‡æ–¹è¯¯å·®.æ€»æ·»åŠ  = mean((é¢„æµ‹æ€»æ·»åŠ  - æ€»æ·»åŠ )^2),
           å‡æ–¹è¯¯å·®.æ€»æ³¨å†Œ = mean((é¢„æµ‹æ€»æ³¨å†Œ - æ€»æ³¨å†Œ)^2),
           å‡æ–¹è¯¯å·®.æ€»æŠ•æ³¨ = mean((é¢„æµ‹æ€»æŠ•æ³¨ - æ€»æŠ•æ³¨)^2),
           å‡æ–¹è¯¯å·®.æ€»æµæ°´ = mean((é¢„æµ‹æ€»æµæ°´ - æ€»æµæ°´)^2),
           å‡æ–¹è¯¯å·®.æ€»å……å€¼ = mean((é¢„æµ‹æ€»å……å€¼ - æ€»å……å€¼)^2),
           å‡æ–¹è¯¯å·®.æ€»ç›ˆåˆ© = mean((é¢„æµ‹æ€»ç›ˆåˆ© - æ€»ç›ˆåˆ©)^2),
           å‡æ–¹è¯¯å·®.å‡€æŠ•æ³¨ = mean((é¢„æµ‹å‡€æŠ•æ³¨ - å‡€æŠ•æ³¨)^2),
           å‡æ–¹è¯¯å·®.æ€»ä½“ç•™å­˜ç‡ = mean((é¢„æµ‹æ€»ä½“ç•™å­˜ç‡ - æ€»ä½“ç•™å­˜ç‡)^2),
           å‡æ–¹è¯¯å·®.äººå‡å……å€¼ = mean((é¢„æµ‹äººå‡å……å€¼ - äººå‡å……å€¼)^2))

mse2 <- mse %>% 
    select(å‡æ–¹è¯¯å·®.æ€»æ·»åŠ , å‡æ–¹è¯¯å·®.æ€»æ³¨å†Œ, å‡æ–¹è¯¯å·®.æ€»æŠ•æ³¨, 
           å‡æ–¹è¯¯å·®.æ€»æµæ°´, å‡æ–¹è¯¯å·®.æ€»å……å€¼, å‡æ–¹è¯¯å·®.æ€»ç›ˆåˆ©, 
           å‡æ–¹è¯¯å·®.å‡€æŠ•æ³¨, å‡æ–¹è¯¯å·®.æ€»ä½“ç•™å­˜ç‡, å‡æ–¹è¯¯å·®.äººå‡å……å€¼) %>% 
    unique

suppressWarnings(mse2 %>% 
  kable(booktabs = T) %>%
  kable_styling())
```

# ç»“è®º

## ç­›é€‰æœ€ä¼˜çº¿æ€§æ¨¡å‹

ç­›é€‰æœ€ä¼˜çº¿æ€§æ¨¡å‹ã€‚

```{r warning=FALSE}
aic <- suppressAll(llply(1:length(m), function(i) {
  y <- data.frame(paste0('m', i), t(data.frame(extractAIC(m[[i]]))))
  names(y) <- (c('æ¨¡å‹', 'è‡ªç”±åº¦', 'aic'))
  y
}) %>% bind_rows)

## ç­›é€‰æœ€ä½³æ¨¡å‹
aic %>% 
  kable(booktabs = T) %>%
  kable_styling() %>%
  row_spec(aic$aic %>% which.min, bold = T, color = "white", background = 'goldenrod')
```

```{r warning=FALSE}
suppressWarnings(m[[aic %>% .$aic %>% which.min]] %>% 
  tidy %>% 
  kable(booktabs = T) %>%
  kable_styling())
```

é˜è¿°æœ€ä½³æ¨¡å‹ã€‚

```
- `æˆªè·(Intercept)`=æ˜¯åœ¨æ²¡æœ‰ä»»ä½•å˜é‡çš„é»˜è®¤ä¸‹çš„è´Ÿç›ˆåˆ©ï¼Œè´Ÿç›ˆåˆ©ä¸º`r coef(m[[aic %>% .$aic %>% which.min]])[1]`ã€‚
- `æ€»æ·»åŠ `=æ¯æ·»åŠ ä¸€ä¸ª`æ€»æ·»åŠ `ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[2]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»æ³¨å†Œ`=æ¯æ·»åŠ ä¸€ä¸ª`æ€»æ³¨å†Œ`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[3]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»é¦–å†²`=æ¯æ·»åŠ ä¸€ä¸ª`æ€»é¦–å†²`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[4]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»æŠ•æ³¨`=æ¯æ·»åŠ ä¸€ä¸ª`æ€»æŠ•æ³¨`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[5]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»æµæ°´`=æ¯æ·»åŠ ä¸€ä¸ª`æ€»æµæ°´`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[6]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»å……å€¼`=æ¯æ·»åŠ ä¸€ä¸ª`æ€»å……å€¼`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[7]`è´Ÿç›ˆåˆ©ã€‚
- `æ€»æ·»åŠ `+`æ€»æ³¨å†Œ`ï¼Œå³å¯äº§ç”Ÿ`r coef(m[[aic %>% .$aic %>% which.min]])[2]`+`r coef(m[[aic %>% .$aic %>% which.min]])[3]`=`r coef(m[[aic %>% .$aic %>% which.min]])[2] + coef(m[[aic %>% .$aic %>% which.min]])[3]`è´Ÿç›ˆåˆ©ï¼Œä»¥æ­¤ç±»æ¨ã€‚
```

## ç­›é€‰æœ€ä¼˜ç§»åŠ¨æ¨¡å‹

ç­›é€‰æœ€ä¼˜ç§»åŠ¨æ¨¡å‹ã€‚

```{r warning=FALSE}
mse3 <- data.frame('æ•°æ®é‡å¤§å°' = c('14å¤©', '21å¤©'), rbind(mse1, mse2))
mse3 <- data.frame(mse3, 'æ€»ä½“å‡æ–¹è¯¯å·®' = rowMeans(mse3[-1]))

mse3 %>% 
  kable(booktabs = T) %>% 
  kable_styling()
```

æ ¹æ®ä»¥ä¸Šå‡æ–¹è¯¯å·®æ¯”è¾ƒï¼Œ`...`æ•°æ®ä¼šæ¯”`...`æ•°æ®æ¥å¾—ç²¾å‡†ã€‚æ­¤æŠ¥è¡¨åªæ˜¯ä¸ªæ ·æœ¬æ•°æ®ã€‚

## æ€»ç»“è®º

- åˆ†æå¥½å…¬å¸æŠ¥è¡¨åï¼Œ
  - è¿˜éœ€è¦åˆ†æ`å½©ç§`ã€`èµ”ç‡`ã€`æµæ°´`ã€`å……å€¼`ã€`è´Ÿç›ˆåˆ©`æ•°æ®ã€‚
  - è¿˜éœ€è¦åˆ†æ`è¿›ç²‰æˆæœ¬`ã€`ç§Ÿé‡‘`ç­‰ç­‰å…¶ä»–æˆæœ¬ï¼Œ`è´Ÿç›ˆåˆ©`æ•°æ®ã€‚

```
ä¸­åšæ‰‹æ¸¸
https://zbcp.yayaread.cn/#/home

å·²æœ‰ç³»ç»Ÿä¼˜åŠ¿ï¼š
äº§å“å¤šã€ä¼˜æƒ å¤š...
- ä¸»æ‰“äº§å“ç½®æ”¾åœ¨æ˜¾çœ¼çš„ä½ç½®ï¼Œè¿˜æœ‰èµ°åŠ¿å›¾æ–¹ä¾¿ç©å®¶å‚è€ƒã€‚
- çƒ­é—¨å½©ç§åˆ—åœ¨å·¦æ‰‹è¾¹ï¼Œæ–¹ä¾¿ç©å®¶ä»¬é€‰æ‹©ã€‚
- å¼€å¥–é€šå‘Šã€èµ„è®¯ä¸­å¿ƒã€æœ€æ–°ä¸­å¥–æ¦œéƒ½åœ¨ä¸»é¡µï¼Œæ–¹ä¾¿ç©å®¶ä¸€è§ˆå³å¯ã€‚
- åŒºåˆ†é«˜é¢‘ä¸ä½é¢‘å½©ç§ç­‰ç­‰äº§å“...

é¢å¤–ç³»ç»Ÿæå‡ï¼ˆäººå·¥æ™ºèƒ½åŒ–ï¼‰ï¼š
- å¦‚æœä¼šå‘˜å¯ä»¥åœ¨ç™»å½•æ—¶ï¼Œæ ¹æ®è‡ªå·±çš„ç­‰çº§ï¼Œè‡ªåŠ¨å¼¹å‡ºä¸ªç­‰çº§çº§åˆ«ï¼Œè¿˜éœ€è¦å¤šå°‘æµæ°´æˆ–å……å€¼é‡æ‰èƒ½æ™‹çº§ï¼Œåˆºæ¿€ç©å®¶å……å€¼æ¥ç©æ™‹çº§ï¼Œåˆºæ¿€æ¶ˆè´¹ã€‚
- å¦‚æœç©å®¶æˆ–ä»£ç†ç›ˆäºåˆ°ä¸€å®šçš„ï¼ˆåå°å¯ä»¥è‡ªå·±è®¾ç½®ï¼‰ï¼Œå°±ä¼šå¼¹å‡ºå¼€å‘ä»£ç†çš„æµæ°´è¿”ç‚¹ï¼Œç„¶ååœ¨å›¾è¡¨æ—è¾¹æœ‰æ•™ç¨‹è§†é¢‘æˆ–å›¾ï¼Œæ–¹ä¾¿ç©å®¶æ“ä½œï¼Œåˆºæ¿€æ¶ˆè´¹ã€‚
- ä¾æ®æ¯ä¸ªç©å®¶å¹³æ—¶ç©ä»€ä¹ˆå½©ç§ï¼Œç„¶åè‡ªåŠ¨æ¨èç›¸å…³å½©ç§ï¼Œåˆºæ¿€æ¶ˆè´¹ã€‚
- å­˜å–æ¬¾æ—ä¹Ÿæœ‰æ•™ç¨‹è§†é¢‘æˆ–è€…å›¾ã€‚

- æ‰“å¼€ç½‘ç«™5ç§’æœªç‚¹å‡»ä»»ä½•æŒ‰é’®ï¼Œå°±ä¼šè‡ªåŠ¨è½¬åˆ°æ³¨å†Œé¡µé¢ã€‚
- è‡ªåŠ¨å‡ºç°é»˜è®¤é‚€è¯·ç ï¼Œé‚£ä¹ˆå°±ä¸ä¼šç©ºæœ‰æµé‡å´æ²¡æœ‰æ³¨å†Œäººæ•°ã€‚ï¼ˆè®¾ç½®ä¸ªå°ç»„ä¸“é—¨è´Ÿè´£è¿™äº›ä¼šå‘˜ï¼Œé¢å¤–æå‡å…¬å¸ä¸šç»©ï¼‰
- æ³¨å†Œé¡µé¢éœ€è¦å¡«å†™å¾®ä¿¡ã€QQå’Œé‚®ç®±ï¼Œé‚£ä¹ˆæœ‰ä¼˜æƒ æ´»åŠ¨æ—¶å¯ä»¥é€šçŸ¥ä¼šå‘˜ã€‚ï¼ˆå›è®¿æå‡å…¬å¸ä¸šç»©ï¼‰
- æ³¨å†Œé¡µé¢å’Œé¦–æ¬¡è¦å……å€¼çš„é¡µé¢ï¼Œå·¦å³ä¸¤è¾¹ä¼šå‡ºç°é¦–å……ä¼˜æƒ ã€æ™‹çº§å¥–åŠ±å’Œæ¯æ—¥å˜‰å¥–ä¼˜æƒ ã€‚
- å·²æ³¨å†Œå°šæœªé¦–å……ï¼Œä¸€ç™»å½•è´¦æˆ·ï¼Œå°±ä¼šå¼¹å‡ºå……å€¼é¡µé¢ï¼Œå·¦å³ä¸¤è¾¹ä¼šå‡ºç°é¦–å……ä¼˜æƒ ã€æ™‹çº§å¥–åŠ±å’Œæ¯æ—¥å˜‰å¥–ä¼˜æƒ ã€‚
- å·²å……å€¼è¿‡çš„ä¼šå‘˜ï¼Œä¸€åˆ°å……å€¼é¡µé¢ï¼Œå·¦å³ä¸¤è¾¹ä¼šå‡ºç°è½¬å¡ä¼˜æƒ ï¼ˆæ ¹æ®å‘¨ä¸€è‡³å‘¨äº”ï¼Œå‘¨å…­å‘¨æ—¥çš„ä¼˜æƒ è€Œè‡ªåŠ¨åˆ†è¾¨ï¼‰ã€æ™‹çº§å¥–åŠ±å’Œæ¯æ—¥å˜‰å¥–ä¼˜æƒ ã€‚
- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹æ¯ä¸ªä¼šå‘˜çš„ç›ˆäºæ˜¯å¦è¾¾åˆ°æŒ‡å®šçš„ç™¾åˆ†æ¯”ï¼ˆæ¯”æ–¹è¯´èµ¢äº†60ï¼…æˆ–äºäº†40ï¼…ï¼Œå¯ä»¥è®¾ç½®æ¯å‘¨æˆ–æ¯æœˆï¼‰ï¼Œç„¶åä¼šå¼¹å‡ºä¿¡æ¯æç¤ºã€‚å¯ä»¥è®¾ç½®æ€»å……å€¼ä½äºå¤šå°‘çš„è¯ï¼Œå°±ä¸ä¼šå¼¹å‡ºæç¤ºã€‚ï¼ˆè‡ªåŠ¨æ ¹æ®å„åˆ«ä¼šå‘˜çš„ç›ˆäºï¼Œè‡ªåŠ¨äº§ç”Ÿä¸åŒçš„ç›ˆåˆ©å›¾ï¼Œå’Œå®å›¾ï¼Œåˆºæ¿€æ¶ˆè´¹ï¼‰
- å¦‚æœäºè¶…è¿‡40ï¼…çš„ä¼šå‘˜ï¼Œä¸€ç™»å½•è´¦æˆ·å°±ä¼šå¼¹å‡ºè¦ä¸è¦æ¥å—äºæŸé‡‘ã€‚ï¼ˆå¦‚æœäºè¶…è¿‡40ï¼…çš„ä¼šå‘˜ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ”¶åˆ°é‚®ä»¶ã€å¾®ä¿¡ã€QQé€šçŸ¥ï¼Œè¦ä¸è¦æ¥ç½‘ç«™é¢†å–äºæŸé‡‘ï¼‰ã€‚
- å¦‚æœèµ¢è¶…è¿‡60ï¼…ï¼Œç³»ç»Ÿè‡ªåŠ¨å¼¹å‡ºæç¤ºï¼Œé‚£ä¹ˆæ–¹ä¾¿æˆ‘ä»¬è¿›ä¸€æ­¥å¤„ç†ã€‚ï¼ˆåŒ…æ‹¬æŸ¥çœ‹ç©ä»€ä¹ˆå½©ç§å’Œå‡ å€æµæ°´ï¼Œå¡æ¬¾ç­‰ç­‰æªæ–½ï¼‰
- å¦‚æœèµ¢è¶…è¿‡60ï¼…çš„ä¼šå‘˜ï¼Œåªè¦é‡‘é¢éƒ½ä¸å¤§ï¼ˆå¯ä»¥è®¾ç½®å¤šå°‘é‡‘é¢ï¼‰çš„è¯ï¼Œå°±ä¼šæ”¶åˆ°å¾®ä¿¡ã€QQã€é‚®ä»¶å»ºè®®æ¿€æ´»é‚€è¯·ç å½“ä»£ç†ï¼Œç„¶åå†…å®¹å¼•å¯¼æ€ä¹ˆæ“ä½œå’Œåˆ©æ¶¦ï¼ˆéš¾ä¿ä»–ä¼šå¼€å‘åˆ°å¤§ä¼šå‘˜ï¼‰ã€‚
- é£é™©ç®¡ç†ï¼Œä»¥è¶³å½©ä¸ºä¾‹å­ï¼Œå°±æ˜¯ä¸€å¼€å¥–åï¼Œèµ”ç‡å°±ä¼šè‡ªåŠ¨è°ƒä½ï¼Œç„¶åç›®å‰çš„æœ€å¤§æŠ•æ³¨é¢æ˜¯100ä¸‡ï¼ˆå¯ä»¥éšç€æŠ•æ³¨é‡‘é¢çš„å¤§å°è‡ªåŠ¨å˜åŠ¨æœ€å¤§æŠ•æ³¨é¢ï¼Œæˆ–è€…ç´¯è®¡æŠ•æ³¨é¢åˆ°äº†60%å°±ä¼šè‡ªåŠ¨è°ƒåŠ¨ï¼‰ï¼Œå¯ä»¥æ ¹æ®ç´¯è®¡æŠ•æ³¨é¢ï¼Œè®¾ç½®èµ”ç‡è°ƒåŠ¨ã€‚
- å¼€å‘ä¸‹çº§ï¼šæ·»åŠ ä¸ªä¸Šè½½å›¾ç‰‡è§†é¢‘çš„åŠŸèƒ½ï¼Œæ¯”æ–¹è¯´å•å¸¦å¤šå°‘çš„èµšå¤šå°‘ã€ä»‹ç»å¹³å°ã€é¦–å……ä¼˜æƒ ã€è½¬å¡ä¼˜æƒ ç­‰ç­‰å›¾ç‰‡è§†é¢‘ã€‚
- ä½“éªŒé‡‘ï¼Œæ™ºèƒ½å¼¹å‡ºå¼€å‘ä»£ç†è§†çª—ï¼Œå¯ä»¥ç›´æ¥æ¿€æ´»é‚€è¯·ç ï¼Œå¹¶ä¸”å¯ä»¥è¾“å…¥æ‰€æœ‰æœ‹å‹çš„QQæˆ–å¾®ä¿¡å·ï¼Œç„¶åç³»ç»Ÿæä¾›å¼€å‘ä¸‹çº§æ•™ç¨‹ã€ä¼˜æƒ ç­‰ç­‰å›¾å’Œè§†é¢‘ï¼Œç›´æ¥ç¾¤å‘ã€‚
- åƒå–å«–èµŒéƒ½æ˜¯ä¼ ç»Ÿè¡Œä¸šï¼Œå¯ä»¥å°è¯•å’Œå½©ç¥¨æ‚å¿—ã€çƒŸé…’ã€ç½‘è´·æˆ–é“¶è¡Œè´·æ¬¾ã€æƒ…è‰²åˆä½œï¼Œæ·»åŠ ä¸ªé¢å¤–æœåŠ¡ï¼ˆå‡¡æ˜¯é¡¾å®¢ä¹°æ‚å¿—ã€çƒŸé…’æˆ–å«–å¦“ï¼Œé‚£äº›å•†å®¶å¯ä»¥æˆä¸ºæˆ‘ä»¬ä»£ç†ï¼Œç„¶åç›´æ¥é€šè¿‡æ‰‹æœºæä¾›åº”ç”¨ä¸‹è½½æˆ–äºŒç»´ç å’Œé‚€è¯·ç å¼€å‘ä¸‹çº§ï¼Œå¹¶ä¸”æ¨é”€ä¼˜æƒ æ´»åŠ¨å’Œæ•™å¯¼å¦‚ä½•æ³¨å†Œå……å€¼ã€‚äºé’±çš„ä¼šå‘˜å¯ä»¥è‡ªè¡Œé€šè¿‡ç½‘è´·åˆºæ¿€æ¶ˆè´¹ï¼Œåªæ˜¯æ³•å¾‹ä¸Šçš„éœ€è¦è€ƒé‡ï¼‰
- å­˜å–æ¬¾å’Œç½‘å€éƒ½èƒ½æ™ºèƒ½è½¬æ¢ï¼Œæ¯”æ–¹è¯´æœ‰å¤‡ç”¨5åˆ°8ä¸ª
- ç¬¬ä¸€ï¼šä½¿ç”¨æ¨¡æ‹Ÿå·æŠ•æ³¨èµ¢é’±å½•åˆ¶è§†é¢‘ï¼Œè´¦å·æ‰“é©¬èµ›å…‹ï¼›ç¬¬äºŒï¼šè§†é¢‘èµ¢é’±æ¬¢å‘¼ï¼Œç„¶ååœ¨è§†é¢‘å†…æœ‰ä¸ªè¾“å…¥é‡‘é¢å’Œé©¬ä¸ŠæŠ•æ³¨ï¼Œæ–¹ä¾¿æ¶ˆè´¹ï¼Œåˆºæ¿€æ¶ˆè´¹ã€‚
- ç¬¬ä¸€ï¼šé«˜æµé‡ä¸æ³¨å†Œçš„è¯ï¼Œå¯ä»¥å’Œå…¶å®ƒå•†å®¶åˆä½œï¼›ç¬¬äºŒï¼šæ³¨å†Œæ—¶å¡«å†™èŒä¸šã€æ”¶å…¥ã€å…´è¶£ã€ä¹°è½¦ä¹°æˆ¿ç­‰ç­‰æ•°æ®ï¼ˆå¯ä»¥æ·»åŠ ä¸ªé»„é¡µï¼Œé€šè¿‡supper cookiesæ”¶é›†æµè§ˆè€…çš„çˆ±å¥½çš„æ•°æ®ï¼‰ï¼Œç„¶åæ ¹æ®é‚£äº›æ•°æ®è‡ªåŠ¨å¼¹å‡ºå¹¿å‘Šã€‚èµšå–å¹¿å‘Šè´¹ã€‚
- API

ä¸ªäººè§‰å¾—æ¯”æˆ‘ä»¬ç›®å‰çš„å¹³å°å¥½å¾ˆå¤š...
å…¬å¸ç›®å‰çš„å•†ä¸šæ¨¡å¼å·²ç»å¯ä»¥èµšåˆ°é’±ï¼Œä¸è¿‡å¯èƒ½å…¬å¸å¯¿å‘½åªæœ‰äº”å…­å¹´ï¼Œå¦‚æœèµ°å“ç‰Œè·¯çº¿çš„è¯ï¼Œå¯èƒ½å¯ä»¥å­¦ä¹ å¨å»‰å¸Œå°”ã€ç«‹åšé‚£äº›ç½‘ç«™ï¼Œé å“ç‰Œç»è¥äº”å…­åå¹´ï¼Œä¸è¿‡æˆæœ¬ä¸ç›ˆåˆ©å°±æ˜¯çš„è€ƒé‡äº†...
```

<br><br>

# é™„å½•

## æ–‡ä¹¦æ˜ç»†

ä»¥ä¸‹ä¹ƒæ­¤æ–‡ä¹¦çš„æ–‡ä»¶ä¿¡æ¯ã€‚

- æ–‡é›†å»ºç«‹æ—¥ï¼š2022-05-31
- æ–‡é›†æœ€æ–°æ›´æ–°æ—¥ï¼š`r today('Asia/Shanghai')`
- `r R.version.string`
- [**rmarkdown**](https://github.com/rstudio/rmarkdown) ç¨‹åºåŒ…ç‰ˆæœ¬ï¼š`r packageVersion('rmarkdown')`
- æ–‡é›†ç‰ˆæœ¬ï¼š0.2.1
- æ–‡é›†ä½œè€…ï¼š[Â®Î³Ïƒ, Î¾Î·g LÎ¹Î±Î· Î—Î¼](https://rpubs.com/englianhu/ryo-cn)
- çŒ«èˆï¼š[æºä»£ç ](https://github.com/scibrokes/owner)
- è¿½åŠ é™„å±ä¿¡æ¯

```{r info}
#suppressMessages(require('formattable', quietly = TRUE))
#suppressMessages(require('knitr', quietly = TRUE))
#suppressMessages(require('kableExtra', quietly = TRUE))
#suppressMessages(require('magittr', quietly = TRUE))
#suppressMessages(require('devtools', quietly = TRUE))

sys1 <- session_info()$platform |> 
    unlist() |> 
    {\(.) data.frame(row.names = 1:length(.), 
                     Category = names(.), session_info = .)}()

sys2 <- data.frame(Sys.info()) |> 
    {\(.) data.frame(Category = row.names(.), Sys.info = .[,1])}()

#remarks, dim(sys1), dim(sys2)
if (nrow(sys1) == 11 && nrow(sys2) == 8) {
  sys2 <- sys2 |> 
    {\(.) rbind(., data.frame(
    Category = c('rmarkdown', 'rsconnect', 'Current time'), 
    Sys.info = c(as.character(getwd()), 
                 as.character(packageVersion('rsconnect')), 
                 paste(as.character(lubridate::now('Asia/Shanghai')), 'CST ğŸ—º'))))}()
  
} else if (nrow(sys1) == 10 && nrow(sys2) == 8) {
  sys1 <- rbind(sys1, data.frame(Category = '', session_info = ''))
  
  sys2 <- sys2 |> 
    {\(.) rbind(., data.frame(
    Category = c('rmarkdown', 'rsconnect', 'Current time'), 
    Sys.info = c(as.character(getwd()), 
                 as.character(packageVersion('rsconnect')), 
                 paste(as.character(lubridate::now('Asia/Shanghai')), 'CST ğŸ—º'))))}()
}

sys <- cbind(sys1, sys2) |> 
  {\(.) 
    kbl(., caption = 'Additional session information:')}() |> 
  {\(.) 
    kable_styling(., bootstrap_options = c('striped', 'hover', 'condensed', 'responsive'))}() |> 
  {\(.) 
    row_spec(., 0, background = 'DimGrey', color = 'yellow')}() |> 
  {\(.) 
    column_spec(., 1, background = 'CornflowerBlue', color = 'red')}() |> 
  {\(.) 
    column_spec(., 2, background = 'grey', color = 'black')}() |> 
  {\(.) 
    column_spec(., 3, background = 'CornflowerBlue', color = 'blue')}() |> 
  {\(.) 
    column_spec(., 4, background = 'grey', color = 'white')}() |> 
  {\(.) 
    row_spec(., 11, bold = TRUE, color = 'yellow', background = '#D7261E')}()

rm(sys1, sys2)
sys
```

## å‚è€ƒæ–‡çŒ®

1) []()
2) [GitHub : Statistical Rethinking (2022 Edition)](https://github.com/englianhu/stat_rethinking_2022)
3) [GitHub : `rethinking` package](https://github.com/englianhu/rethinking) McElreath 2020. Statistical Rethinking, 2nd edition
4) [GitHub : Stan](https://github.com/stan-dev)
5) [GitHub : Repository for distributing (some) stan-dev R packages](https://github.com/stan-dev/r-packages)
6) [ä¹¦æ ˆç½‘](https://www.bookstack.cn/user/englianhu)

---

[<img src="æ–‡è‰ºåŠå›¾åº“/Scibrokes.png" height="14"/> SÏ‚Î¹Î²rÎ¿ÎºÎµrs TrÎ±dÎ¹Î·gÂ®](http://www.scibrokes.com)<br>
<span style='color:RoyalBlue'>**[<img src="æ–‡è‰ºåŠå›¾åº“/Scibrokes.png" height="14"/> ä¸–åšé‡åŒ–Â®](http://www.scibrokes.com)ä¼ä¸šçŸ¥è¯†äº§æƒåŠç‰ˆæƒæ‰€æœ‰ï¼Œç›—ç‰ˆå¿…ç©¶ã€‚**</span>
